<!DOCTYPE html>
<html class="no-js css-menubar" lang="zh-cn">

<head>
    <title>新建分销商</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <!-- 移动设备 viewport -->
    <meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no,minimal-ui">
    <meta name="author" content="admui.com">
    <!-- 360浏览器默认使用Webkit内核 -->
    <meta name="renderer" content="webkit">
    <!-- 禁止搜索引擎抓取 -->
    <meta name="robots" content="nofollow">
    <!-- 禁止百度SiteAPP转码 -->
    <meta http-equiv="Cache-Control" content="no-siteapp">
    <!-- Chrome浏览器添加桌面快捷方式（安卓） -->
    <link rel="icon" type="image/png" href="{$_static}/static/admui/public/images/favicon.png">
    <meta name="mobile-web-app-capable" content="yes">
    <!-- Safari浏览器添加到主屏幕（IOS） -->
    <link rel="icon" sizes="192x192" href="{$_static}/static/admui/public/images/apple-touch-icon.png">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-title" content="Admui">
    <!-- Win8标题栏及ICON图标 -->
    <link rel="apple-touch-icon-precomposed" href="{$_static}/static/admui/public/images/apple-touch-icon.png">
    <meta name="msapplication-TileImage" content="{$_static}/static/admui/public/images/app-icon72x72@2x.png">
    <meta name="msapplication-TileColor" content="#62a8ea">
    <!-- 图标 CSS -->
    <link rel="stylesheet" href="{$_static}/static/admui/public/fonts/font-awesome/font-awesome.css">
    <link rel="stylesheet" href="{$_static}/static/admui/public/fonts/web-icons/web-icons.css">
    <link rel="stylesheet" href="{$_static}/static/admui/public/fonts/themify/themify.css">
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="{$_static}/static/admui/public/themes/classic/global/css/bootstrap.css">
    <!-- Site CSS -->
    <link rel="stylesheet" href="{$_static}/static/admui/public/themes/classic/base/css/site.css" id="admui-siteStyle">
    <!-- 插件 CSS -->
    <link rel="stylesheet" href="{$_static}/static/admui/public/vendor/toastr/toastr.css">
    <link rel="stylesheet" href="{$_static}/static/admui/public/vendor/formvalidation/formValidation.css">
    <!-- 插件 CSS -->
    <!-- page CSS -->
    <!-- 插件 -->
    <script src="{$_static}/static/admui/public/vendor/jquery/jquery.min.js"></script>
    <script src="{$_static}/static/admui/public/vendor/bootstrap/bootstrap.min.js"></script>
    <script src="{$_static}/static/admui/public/vendor/modernizr/modernizr.min.js"></script>
    <script src="{$_static}/static/admui/public/vendor/breakpoints/breakpoints.min.js"></script>
    <script src="{$_static}/static/admui/public/vendor/artTemplate/template.min.js"></script>
    <script src="{$_static}/static/admui/public/vendor/toastr/toastr.min.js"></script>
    <script src="{$_static}/static/admui/public/js/vue.min.js"></script>
    <!--[if lte IE 9]>
    <meta http-equiv="refresh" content="0; url='http://www.admui.com/ie'"/>
    <![endif]-->
    <!--[if lt IE 10]>
    <script src="{$_static}/static/admui/public/vendor/media-match/media.match.min.js"></script>
    <script src="{$_static}/static/admui/public/vendor/respond/respond.min.js"></script>
    <![endif]-->
    <!-- 核心 -->
    <script src="{$_static}/static/admui/public/themes/classic/base/js/site.js"></script>
    <script src="{$_static}/static/admui/public/themes/classic/global/js/configs/site-configs.js"></script>
    <script src="{$_static}/static/admui/public/themes/classic/global/js/components.js"></script>
    <style type="text/css">
        [v-cloak] {display: none;}
        .hidden-input{opacity: 0;position: absolute;left: 0;}
        .max-width-350{max-width: 350px;}
        .brand-box{border-radius: 5px;border:solid 1px #EBEEF5;width: 550px;font-size: 0;}
        .brand-box .brand-item{line-height: 1;display: inline-block;vertical-align: middle;padding:9px 10px;border-radius: 5px;cursor: pointer;font-size: 14px;min-width: 88px;text-align: center;margin:0 10px 10px 0;}
        .classify-main{border-radius: 5px;border:solid 1px #EBEEF5;width:300px;padding: 15px 0 15px 15px;}
        .classify-main .classify-group{height:300px;overflow-y:auto;padding: 0 15px 0 0;}
        .classify-main .classify-group .checkbox-first a.collapsed{transform: rotate(-90deg);}
        .classify-checked{border-radius: 5px;border:solid 1px #EBEEF5;width:300px;padding: 15px;}
        .classify-checked .checked-list{height: 306px;overflow-y:auto;margin-left: 1em;}
        .classify-checked .checked-list a{color: #333;text-decoration: none;}
        .classify-checked .checked-list a.collapsed .fa-plus-square-o{display: inline-block;}
        .classify-checked .checked-list a.collapsed .fa-minus-square-o{display: none;}
        .classify-checked .checked-list a .fa-plus-square-o{display: none;}
        .classify-checked .checked-list a .fa-minus-square-o{display: inline-block;}
    </style>
</head>
<body class="bg-hui">
<form class="margin-20 form-horizontal" id="formData" v-cloak style="padding-bottom: 60px">
    <div class="padding-20 bg-white">
        <h3 class="margin-top-5 margin-left-60">基本信息</h3>
        <div class="form-group">
            <label class="col-xs-3 control-label"><font color='#F56C6C'>*</font>分销商名称：</label>
            <div class="col-xs-9 max-width-350">
                <div class="input-group">
                    <input type="text" class="form-control count-input" name="name" placeholder="请填写分销商名称" autocomplete="off"
                           onkeyup="checkMaxInput(this,20)" onblur="checkMaxInput(this,20)" v-model="form_data.name" maxlength="20" >
                    <span class="input-group-addon count-num">0/20</span>
                </div>
            </div>
        </div>
        <div class="form-group">
            <label class="col-xs-3 control-label"><font color='#F56C6C'>*</font>联系人：</label>
            <div class="col-xs-9 max-width-350">
                <div class="input-group">
                    <input type="text" class="form-control count-input" name="realname" placeholder="请填写联系人" autocomplete="off"
                           onkeyup="checkMaxInput(this,20)" onblur="checkMaxInput(this,20)" v-model="form_data.realname" maxlength="20" >
                    <span class="input-group-addon count-num">0/20</span>
                </div>
            </div>
        </div>
        <div class="form-group">
            <label class="col-xs-3 control-label"><font color='#F56C6C'>*</font>联系方式：</label>
            <div class="col-xs-9 max-width-350">
                <div class="input-group">
                    <div class="input-group-btn">
                        <select class="form-control" name="phonecode" v-model="form_data.phonecode">
                            <option value="86">+86</option>
                            <option value="886">+886</option>
                            <option value="852">+852</option>
                            <option value="853">+853</option>
                            <option value="60">+60</option>
                            <option value="63">+63</option>
                        </select>
                    </div>
                    <input type="text" class="form-control" v-model="form_data.phone" name="phone" placeholder="请填写联系方式" autocomplete="off" />
                </div>
            </div>
        </div>
        <div class="form-group">
            <label class="col-xs-3 control-label"><font color='#F56C6C'>*</font>邮箱地址：</label>
            <div class="col-xs-9 max-width-350">
                <input type="text" class="form-control" v-model="form_data.email" name="email" placeholder="请填写邮箱地址" autocomplete="off" />
            </div>
        </div>
    </div>
    <div class="padding-20 bg-white margin-top-20">
        <h3 class="margin-top-5 margin-left-60">
            商品权限
            <i style="color: #C0C4CC;" class="icon fa-question-circle margin-left-5 margin-top-10"
               data-toggle="popover"
               data-placement="right"
               data-trigger="hover"
               data-original-title="说明"
               data-content="报表是每个月的数据都会不一样，是根据该月最后一天进行统计；
                    ">
            </i>
        </h3>
        <div class="form-group">
            <label class="col-xs-3 control-label">商品划分：</label>
            <div class="col-xs-9">
                <div class="radio-custom radio-primary radio-inline">
                    <input type="radio" id="divide-1" name="divide" value="brand" v-model="form_data.divide_radio" @change="divideFun">
                    <label for="divide-1">按品牌</label>
                </div>
                <div class="radio-custom radio-primary radio-inline">
                    <input type="radio" id="divide-2" name="divide" value="classify" v-model="form_data.divide_radio"@change="divideFun">
                    <label for="divide-2">按分类</label>
                </div>
            </div>
        </div>
        <div class="form-group">
            <label class="col-xs-3 control-label">选择模板：</label>
            <div class="col-xs-9">
                <div class="inline-block text-middle width-350">
                    <select class="form-control" name="template" v-model="form_data.template">
                        <option value="1">模板一</option>
                    </select>
                </div>
                <button type="button" class="btn btn-danger margin-left-20">删除</button>
            </div>
        </div>
        <div class="form-group" v-show="form_data.divide_radio == 'brand'">
            <label class="col-xs-3 control-label"><font color='#F56C6C'>*</font>选择品牌：</label>
            <div class="col-xs-9">
                <button type="button" class="btn btn-default btn-outline" @click="brandAllFun()">全选</button>
                <div class="brand-box padding-20 margin-top-10" id="brand-main">
                    <span class="brand-item" v-for="(item,index) in brand_list" :class="item.is_check ? 'bg-primary':''" @click="brandFun(item)">{{item.name}}</span>
                </div>
                <input type="text" name="is_brand" class="hidden-input" v-model="is_brand">
            </div>
        </div>
        <div class="form-group" v-show="form_data.divide_radio == 'classify'">
            <label class="col-xs-3 control-label"><font color='#F56C6C'>*</font>选择分类：</label>
            <div class="col-xs-9 ">
                <div class="clearfix">
                    <div class="classify-main pull-left clearfix">
                        <div class="checkbox-custom checkbox-primary margin-bottom-10">
                            <input type="checkbox" id="checkAll-1" v-model="classify_all" @change="classifyAll('1')">
                            <label for="checkAll-1">全选</label>
                        </div>
                        <div class="classify-group">
                            <div class="panel-group" v-collapse>
                                <div class="panel" v-for="(item,index) in classify_list">
                                    <div class="checkbox-first clearfix margin-bottom-5">
                                        <div class="checkbox-custom checkbox-primary pull-left">
                                            <input type="checkbox" :id="'first'+item.id" v-model="item.is_check" @change="classifyChange(item,index,'1')">
                                            <label :for="'first'+item.id">{{item.name}}</label>
                                        </div>
                                        <a data-toggle="collapse" :href="'#classify'+item.id" class="pull-right " v-if="item.next_list.length>0" style="margin-top: 1px;">
                                            <i class="icon fa-angle-down font-size-24 grey-500" aria-hidden="true"></i>
                                        </a>
                                    </div>
                                    <div :id="'classify'+item.id" class="panel-collapse collapse in">
                                        <div class="checkbox-second margin-left-30" v-if="item.next_list.length>0">
                                            <div class="checkbox-custom checkbox-primary" v-for="(list,ind) in item.next_list">
                                                <input type="checkbox" :id="'second'+list.id" v-model="list.is_check" @change="classifyChange(item,index,'2')">
                                                <label :for="'second'+list.id">{{list.name}}</label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="classify-checked pull-right">
                        <div class="margin-bottom-10">已选分类</div>
                        <div class="checked-list">
                            <div class="panel-group" v-collapse>
                                <div class="panel margin-0 padding-bottom-10" v-for="item in classify_list" v-show="item.is_check">
                                    <a data-toggle="collapse" :href="'#panel'+item.id" class="">
                                        <i class="icon fa-plus-square-o font-size-16 grey-500" aria-hidden="true"></i>
                                        <i class="icon fa-minus-square-o font-size-16 grey-500" aria-hidden="true"></i>
                                        <span style="margin-left:3px;">{{item.name}}</span>
                                    </a>
                                    <div :id="'panel'+item.id" class="panel-collapse collapse in margin-left-20 margin-top-10">
                                        <div class="margin-bottom-5" v-for="list in item.next_list" v-show="list.is_check">{{list.name}}</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <input type="text" name="is_classify" class="hidden-input" v-model="is_classify">
            </div>
        </div>
        <div class="form-group">
            <label class="col-xs-3 control-label">设置模版名称：</label>
            <div class="col-xs-9">
                <div class="inline-block text-middle width-350">
                    <div class="input-group">
                        <input type="text" class="form-control count-input" name="template_name" placeholder="请填写模版名称" autocomplete="off" v-model="form_data.template_name" onkeyup="checkMaxInput(this,20)" onblur="checkMaxInput(this,20)" value="" maxlength="20" >
                        <span class="input-group-addon count-num">0/20</span>
                    </div>
                </div>
                <button type="button" class="btn btn-primary margin-left-20">确定</button>
            </div>
        </div>
    </div>
    <div class="padding-20 bg-white margin-top-20">
        <h3 class="margin-top-5 margin-left-60">参数配置</h3>
        <div class="form-group">
            <label class="col-xs-3 control-label"><font color='#F56C6C'>*</font>密钥key：</label>
            <div class="col-xs-9">
                <input type="text" class="form-control inline-block text-middle width-350 margin-right-10" id="ipt-key" readonly="" name="key" v-model="form_data.key"/>
                <button type="button" class="td-btn primary inline-block text-middle margin-right-10" @click="createFun('key')">生成</button>
                <button type="button" class="td-btn primary inline-block text-middle" @click="copyFun('ipt-key')">复制</button>
            </div>
        </div>
        <div class="form-group">
            <label class="col-xs-3 control-label"><font color='#F56C6C'>*</font>密钥secret：</label>
            <div class="col-xs-9">
                <input type="text" class="form-control inline-block text-middle width-350 margin-right-10" id="ipt-secret" readonly="" name="secret" v-model="form_data.secret"/>
                <button type="button" class="td-btn primary inline-block text-middle margin-right-10" @click="createFun('secret')">生成</button>
                <button type="button" class="td-btn primary inline-block text-middle" @click="copyFun('ipt-secret')">复制</button>
            </div>
        </div>
        <div class="form-group">
            <label class="col-xs-3 control-label"><font color='#F56C6C'>*</font>接口回调地址：</label>
            <div class="col-xs-9 max-width-350">
                <input type="text" class="form-control" v-model="form_data.token_url" name="token_url" placeholder="请填写接口回调地址" autocomplete="off" />
            </div>
        </div>
    </div>
    <div class="padding-20 bg-white margin-top-20">
        <h3 class="margin-top-5 margin-left-60">IP白名单</h3>
        <div class="form-group">
            <label class="col-xs-3 control-label">IP地址：</label>
            <div class="col-xs-9">
                <div class="form-group" v-for="(item,index) in form_data.ip_href">
                    <input type="text" class="form-control inline-block text-middle width-350 margin-right-10" name="ip_url" placeholder="请填写调取接口IP地址" autocomplete="off" v-model="item.href"/>
                    <button v-if="(index+1) == form_data.ip_href.length" type="button" class="td-btn primary inline-block text-middle margin-right-10" @click="addIpFun()">继续添加</button>
                    <button v-else type="button" class="td-btn primary inline-block text-middle margin-right-10" @click="delIpFun($event,index)">删除</button>
                </div>
            </div>
        </div>
    </div>
    <div class="text-center bg-white footer-submit">
        <button type="button" class="btn btn-default btn-outline margin-right-10">取消</button>
        <button type="submit" class="btn btn-primary margin-right-10" id="submit-btn">保存</button>
    </div>
</form>
</body>
<!--插件 -->
<script src="{$_static}/static/admui/public/themes/classic/global/js/plugins/responsive-tabs.js"></script>
<script src="{$_static}/static/admui/public/vendor/ashoverscroll/jquery-asHoverScroll.min.js"></script>
<script src="{$_static}/static/admui/public/vendor/slimscroll/jquery.slimscroll.min.js"></script>
<script src="{$_static}/static/admui/public/vendor/screenfull/screenfull.min.js"></script>
<script src="{$_static}/static/admui/public/vendor/matchheight/jquery.matchHeight.min.js"></script>
<script src="{$_static}/static/admui/public/vendor/count-input/countinput.js"></script>
<script src="{$_static}/static/admui/public/vendor/formvalidation/formValidation.min.js"></script>
<script src="{$_static}/static/admui/public/vendor/formvalidation/framework/bootstrap.min.js"></script>
<script src="{$_static}/static/admui/public/vendor/bootbox/bootbox.min.js"></script>
<!-- 插件 -->
<script type="text/javascript">
    Vue.directive('collapse', {
        inserted: function(el) {
            $(el).collapse({
                toggle: false
            })
        }
    });
    $(function() {
        var vm = new Vue({
            el: '#formData',
            data: {
                form_data:{
                    name:'',
                    realname:'',
                    phonecode:'86',
                    phone:'',
                    email:'',
                    divide_radio:'classify',//商品划分参数 brand/classify;
                    template:'',
                    template_name:'',
                    key:'sss',
                    secret:'',
                    token_url:'',
                    ip_href:[
                        {href:''}
                    ]
                },
                brand_list:[],//品牌列表
                is_brand:'',
                classify_list:[],//一级分类列表
                is_classify:'',
                classify_all:false
            },
            created: function() {
                this.getBrandList();
                this.getClassifyList();
            },
            mounted:function(){
                /*表单验证*/
                $('#formData').formValidation($.po('formValidation', {
                    locale: 'zh_CN',
                    framework: 'bootstrap',
                    excluded: [':disabled', ':hidden'],
                    icon:false,
                    button: {    //提交按钮
                        selector: '#submit-btn',//按钮对象
                        disabled: 'disabled'//验证失败是禁用按钮
                    },
                    fields: {
                        name: {
                            validators: {
                                notEmpty: {
                                    message: "请填写分销商名称"
                                }
                            }
                        },
                        realname: {
                            validators: {
                                notEmpty: {
                                    message: "请填写联系人"
                                }
                            }
                        },
                        phone: {
                            validators: {
                                notEmpty: {
                                    message: "请填写联系方式"
                                },
                                regexp: {
                                    regexp: /^1[\d]{10}$/,
                                    message: "请填写正确的联系方式"
                                }
                            }
                        },
                        email: {
                            validators: {
                                notEmpty: {
                                    message: "请填写邮箱地址"
                                },
                                emailAddress: {
                                    message: "请填写正确的邮箱地址"
                                }
                            }
                        },
                        template_name: {
                            validators: {
                                notEmpty: {
                                    message: "请填写模版名称"
                                }
                            }
                        },
                        is_brand: {
                            validators: {
                                notEmpty: {
                                    message: "请选择品牌"
                                }
                            }
                        },
                        is_classify: {
                            validators: {
                                notEmpty: {
                                    message: "请选择分类"
                                }
                            }
                        },
                        token_url: {
                            validators: {
                                notEmpty: {
                                    message: "请填写接口回调地址"
                                }
                            }
                        },
                        ip_url: {
                            validators: {
                                notEmpty: {
                                    message: "请填写调取接口IP地址"
                                }
                            }
                        }
                    },
                    onSuccess:function(e){
                        e.preventDefault();//禁止触发form提交
                        console.log('成功')
                    }
                }));
            },
            methods: {
                getBrandList(){
                    /*获取品牌列表*/
                    var arry = [
                        {key:'0',name:'耐克',is_check:false},
                        {key:'2',name:'阿迪达斯',is_check:false},
                        {key:'3',name:'中国乔丹',is_check:false},
                        {key:'4',name:'李宁',is_check:false},
                        {key:'5',name:'361度',is_check:false},
                        {key:'6',name:'匹克',is_check:false},
                        {key:'7',name:'七匹狼',is_check:false}
                    ];
                    this.brand_list = arry;
                },
                brandAllFun(){
                    /*全选品牌列表*/
                    var that = this;
                    for(let i = 0; i < that.brand_list.length; i++) {
                        that.brand_list[i].is_check = true;
                    }
                    that.is_brand = '1';
                },
                brandFun(item){
                    var that = this;
                    that.is_brand = '';
                    item.is_check = !item.is_check;
                    for(let i = 0; i < that.brand_list.length; i++) {
                        if(that.brand_list[i].is_check){
                            that.is_brand = '1';
                        }
                    }
                },
                getClassifyList(){
                    /*获取分类列表*/
                    var that = this;
                    var arry = [
                        {
                            id:'01',
                            name:'食品类',
                            is_check:false,
                            next_list:[
                                {id:'011',name:'牛肉',is_check:false},
                                {id:'012',name:'猪肉',is_check:false},
                                {id:'013',name:'羊肉',is_check:false},
                                {id:'014',name:'鸡肉',is_check:false},
                            ]
                        },
                        {
                            id:'02',
                            name:'服装类',
                            is_check:false,
                            next_list:[
                                {id:'021',name:'衬衫',is_check:false},
                                {id:'022',name:'牛仔裤',is_check:false},
                                {id:'023',name:'内衣',is_check:false},
                                {id:'024',name:'西装',is_check:false},
                            ]
                        },
                        {
                            id:'03',
                            name:'日用品类',
                            is_check:false,
                            next_list:[
                                {id:'031',name:'被子',is_check:false},
                            ]
                        }
                    ];
                    that.classify_list = arry;
                },
                classifyAll(type){
                    /*分类全选方法*/
                    var that = this;
                    if(that.classify_all){
                        for(let i = 0; i < that.classify_list.length; i++) {
                            that.classify_list[i].is_check = true;
                            for(let j = 0; j < that.classify_list[i].next_list.length; j++) {
                                that.classify_list[i].next_list[j].is_check = true;
                            }
                        }
                        that.is_classify = '1';
                    }else{
                        for(let i = 0; i < that.classify_list.length; i++) {
                            that.classify_list[i].is_check = false;
                            for(let j = 0; j < that.classify_list[i].next_list.length; j++) {
                                that.classify_list[i].next_list[j].is_check = false;
                            }
                        }
                        that.is_classify = '';
                    }
                },
                classifyChange(item,index,type){
                    /*选择分类方法*/
                    var that = this;
                    if(type == '1'){
                        var list = that.classify_list[index].next_list;
                        for(let i = 0; i < list.length; i++) {
                            if(item.is_check){
                                list[i].is_check = true;
                            }else{
                                list[i].is_check = false;
                            }
                        }
                    }else{
                        var list = that.classify_list[index].next_list;
                        var status = false;
                        for(let i = 0; i < list.length; i++) {
                            if(list[i].is_check){
                                status = true;
                                break;
                            }
                        }
                        item.is_check = status;
                    }
                    that.classifyEach(type)
                },
                classifyEach(type){
                    /*判断是否全选*/
                    var that = this;
                    var checkAll = true;
                    that.is_classify = '';
                    for(let i = 0; i < that.classify_list.length; i++) {
                        for(let j = 0; j < that.classify_list[i].next_list.length; j++) {
                            if(!that.classify_list[i].next_list[j].is_check){
                                checkAll = false;
                            }else{
                                that.is_classify = '1';
                            }
                        }
                    }
                    if(checkAll){
                        that.classify_all = true;
                    }else{
                        that.classify_all = false;
                    }
                },
                createFun(type){
                    /*生成secret key参数*/
                    toastr.success('已生成'+type)
                },
                copyFun(e){
                    /*复制*/
                    var obj = document.getElementById(e);
                    obj.select();
                    document.execCommand("Copy");
                    if(obj.value.length){
                        toastr.success('复制成功')
                    }else{
                        toastr.error('复制对象为空')
                    }
                },
                addIpFun(){
                    /*添加IP地址*/
                    var that = this;
                    var fv = $('#formData').data('formValidation');
                    fv.validateField('ip_url');/*表单验证手机项*/
                    if( fv.isValidField('ip_url') ){
                        that.form_data.ip_href.push({href:''});
                        setTimeout(function(){
                            $('#formData').formValidation('addField', 'ip_url',{
                                validators: {
                                    notEmpty: {
                                        message: '请填写调取接口IP地址'
                                    }
                                }
                            });
                        });
                    }
                },
                delIpFun(e,i){
                    /*删除IP地址*/
                    var that = this;
                    var obj = e.currentTarget;
                    var field = $(obj).prev('input');
                    bootbox.confirm({
                        title:"确认删除",
                        message: "IP白名单一经删除就无法恢复，确认删除吗？",
                        buttons: {
                            confirm: {
                                label: "确认",
                                className: 'btn-primary'
                            },
                            cancel: {
                                label: "取消",
                                className: 'btn-default'
                            }
                        },
                        callback: function(result){
                            if(result){
                                that.form_data.ip_href.splice(i,1);
                                setTimeout(function(){
                                    $('#formData').data('formValidation').resetField('ip_url');
                                    $('#formData').formValidation('removeField', field);
                                });
                            }
                        }
                    });
                },
                divideFun(){
                    /*切换商品划分*/
                    $('#formData').formValidation('resetField', 'is_brand');
                    $('#formData').formValidation('resetField', 'is_classify')
                }
            },
            watch: {
                is_classify: function(data){
                    /*监听是否有选择分类*/
                    if(data){
                        $('#formData').formValidation('updateStatus', 'is_classify', 'NOT_VALIDATED')
                    }else{
                        $('#formData').formValidation('updateStatus', 'is_classify', 'INVALID')
                    }
                },
                is_brand: function(data){
                    /*监听是否有选择品牌*/
                    if(data){
                        $('#formData').formValidation('updateStatus', 'is_brand', 'NOT_VALIDATED')
                    }else{
                        $('#formData').formValidation('updateStatus', 'is_brand', 'INVALID')
                    }
                }
            }
        })
    });
</script>
</html>